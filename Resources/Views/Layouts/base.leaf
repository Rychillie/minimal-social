<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Minimal social</title>
    <meta name="description" content="A simple, distraction free platform for professionals">
    <link rel="stylesheet" type="text/css" href="/css/styles.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <main>
        #import("nav")
        <div class="container">
            #import("content")
        </div>
        #import("aside")
    </main>

    <script>
        const tabs = document.querySelectorAll('[data-tab-target]')
        const tabContents = document.querySelectorAll('[data-tab-content]')

        // Retrieve the saved tab from local storage
        const savedTab = localStorage.getItem('activeTab');
        if (savedTab) {
            // Clear all active states before setting the saved tab
            tabContents.forEach(tabContent => {
                tabContent.classList.remove('active');
            });
            tabs.forEach(tab => {
                tab.classList.remove('active');
            });

            const target = document.querySelector(savedTab);
            if (target) {
                target.classList.add('active');
                document.querySelector(`[data-tab-target="${savedTab}"]`).classList.add('active');
            }
        }

        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const target = document.querySelector(tab.dataset.tabTarget);
                tabContents.forEach(tabContent => {
                    tabContent.classList.remove('active');
                });

                tabs.forEach(tab => { tab.classList.remove('active'); });
                tab.classList.add('active');
                target.classList.add('active');

                // Save the selected tab to local storage
                localStorage.setItem('activeTab', tab.dataset.tabTarget);
            });
        });
    </script>
</body>
</html>